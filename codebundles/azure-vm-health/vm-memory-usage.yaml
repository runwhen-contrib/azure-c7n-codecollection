policies:
  - name: vm-memory-usage
    resource: azure.vm
    subscription: 2a0cf760-baef-4446-b75c-75c4f8a6267f
    filters:
      - type: instance-view
        key: statuses[].code
        op: not-in
        value_type: swap
        value: PowerState/deallocated
      - type: instance-view
        key: statuses[].code
        op: not-in
        value_type: swap
        value: ProvisioningState/Unavailable
      - type: metric
        metric: Available Memory Bytes
        op: lt
        aggregation: average
        threshold: 
        timeframe: 24
      - type: value
        key: resourceGroup
        op: eq
        value: RG-CONTOSO-01-DATA